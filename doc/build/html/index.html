
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Welcome to gce’s documentation! &#8212; gce  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="welcome-to-gce-s-documentation">
<h1>Welcome to gce’s documentation!<a class="headerlink" href="#welcome-to-gce-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="gce-gpu-accelerated-condtional-entropy">
<h1>gce: GPU-Accelerated Condtional Entropy<a class="headerlink" href="#gce-gpu-accelerated-condtional-entropy" title="Permalink to this headline">¶</a></h1>
<p>gce implements the conditional entropy (CE) search technique for periodic objects in electromagnetic surveys. This implementation is specifically for use with graphics processing units (GPU). The user inputs light curves as well as grid parameters used for each CE calculation. Basic statistics are calculated for these CE grids, which are then used to assign a significance to the minimum conditional entrop value.</p>
<div class="section" id="getting-started-installation">
<h2>Getting Started / Installation<a class="headerlink" href="#getting-started-installation" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple" start="0">
<li><p><a class="reference external" href="https://docs.anaconda.com/anaconda/install/">Install Anaconda</a> if you do not have it.</p></li>
<li><p>Create a virtual environment.</p></li>
</ol>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>conda create -n gce_env numpy Cython
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Use pip to <a class="reference external" href="https://docs-cupy.chainer.org/en/stable/install.html">install cupy</a>. If you have cuda version 9.2, for example:</p></li>
</ol>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>pip install cupy-cuda92
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Use pip to install gce.</p></li>
</ol>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>pip install gce
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>To import gce:</p></li>
</ol>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>from gcex.gce import ConditionalEntropy
</pre></div>
</div>
<ul class="simple">
<li><p>To perform a test:</p></li>
</ul>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>TODOs
</pre></div>
</div>
<div class="section" id="prerequisites">
<h3>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h3>
<p>What things you need to install the software and how to install them</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>Give examples
</pre></div>
</div>
</div>
<div class="section" id="installing">
<h3>Installing<a class="headerlink" href="#installing" title="Permalink to this headline">¶</a></h3>
<p>You have two choices for install:</p>
<ul>
<li><p>You can use pip:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>pip install gce
</pre></div>
</div>
<p>or</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>python -m pip install gce
</pre></div>
</div>
</li>
<li><p>Install from source:</p>
<ol class="arabic simple">
<li><p>Clone the repository.</p></li>
</ol>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/mikekatz04/gce.git
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Run install.</p></li>
</ol>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>python setup.py install
</pre></div>
</div>
</li>
</ul>
<p>A step by step series of examples that tell you how to get a development env running</p>
<p>Say what the step will be</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>Give the example
</pre></div>
</div>
<p>And repeat</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>until finished
</pre></div>
</div>
<p>End with an example of getting some data out of the system or using it for a little demo</p>
</div>
</div>
<div class="section" id="running-the-tests">
<h2>Running the tests<a class="headerlink" href="#running-the-tests" title="Permalink to this headline">¶</a></h2>
<p>Explain how to run the automated tests for this system</p>
<div class="section" id="break-down-into-end-to-end-tests">
<h3>Break down into end to end tests<a class="headerlink" href="#break-down-into-end-to-end-tests" title="Permalink to this headline">¶</a></h3>
<p>Explain what these tests test and why</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>Give an example
</pre></div>
</div>
</div>
<div class="section" id="and-coding-style-tests">
<h3>And coding style tests<a class="headerlink" href="#and-coding-style-tests" title="Permalink to this headline">¶</a></h3>
<p>Explain what these tests test and why</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>Give an example
</pre></div>
</div>
</div>
</div>
<div class="section" id="deployment">
<h2>Deployment<a class="headerlink" href="#deployment" title="Permalink to this headline">¶</a></h2>
<p>Add additional notes about how to deploy this on a live system</p>
</div>
<div class="section" id="built-with">
<h2>Built With<a class="headerlink" href="#built-with" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="http://www.dropwizard.io/1.0.2/docs/">Dropwizard</a> - The web framework used</p></li>
<li><p><a class="reference external" href="https://maven.apache.org/">Maven</a> - Dependency Management</p></li>
<li><p><a class="reference external" href="https://rometools.github.io/rome/">ROME</a> - Used to generate RSS Feeds</p></li>
</ul>
</div>
<div class="section" id="contributing">
<h2>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h2>
<p>Please read <a class="reference external" href="https://gist.github.com/PurpleBooth/b24679402957c63ec426">CONTRIBUTING.md</a> for details on our code of conduct, and the process for submitting pull requests to us.</p>
</div>
<div class="section" id="versioning">
<h2>Versioning<a class="headerlink" href="#versioning" title="Permalink to this headline">¶</a></h2>
<p>We use <a class="reference external" href="http://semver.org/">SemVer</a> for versioning. For the versions available, see the <a class="reference external" href="https://github.com/your/project/tags">tags on this repository</a>.</p>
</div>
<div class="section" id="authors">
<h2>Authors<a class="headerlink" href="#authors" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>Billie Thompson</strong> - <em>Initial work</em> - <a class="reference external" href="https://github.com/PurpleBooth">PurpleBooth</a></p></li>
</ul>
<p>See also the list of <a class="reference external" href="https://github.com/your/project/contributors">contributors</a> who participated in this project.</p>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>This project is licensed under the MIT License - see the <a class="reference external" href="LICENSE.md">LICENSE.md</a> file for details</p>
</div>
<div class="section" id="acknowledgments">
<h2>Acknowledgments<a class="headerlink" href="#acknowledgments" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Hat tip to anyone whose code was used</p></li>
<li><p>Inspiration</p></li>
<li><p>etc</p></li>
</ul>
<span class="target" id="module-gcex.gce"></span><dl class="class">
<dt id="gcex.gce.ConditionalEntropy">
<em class="property">class </em><code class="sig-prename descclassname">gcex.gce.</code><code class="sig-name descname">ConditionalEntropy</code><span class="sig-paren">(</span><em class="sig-param">phase_bins=30</em>, <em class="sig-param">mag_bins=10</em>, <em class="sig-param">long_limit=2000</em>, <em class="sig-param">use_long=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#gcex.gce.ConditionalEntropy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Calculate the Conitional Entropy</p>
<p>This class computes the conditional entropy for a list of light curves
along pdot and frequency axes determined by the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>phase_bins</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of phase bins. Default is 30.</p></li>
<li><p><strong>mag_bins</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of magnitude bins. Default is 10.</p></li>
<li><p><strong>long_limit</strong> (<em>int</em><em>, </em><em>optional</em>) – Length of a light curve where the code
forces the use of the longer light curve version of gce.
Default is 2,000.</p></li>
<li><p><strong>use_long</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, use the long gce version of the
code. Default is False.</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="gcex.gce.ConditionalEntropy.phase_bins">
<code class="sig-name descname">phase_bins</code><a class="headerlink" href="#gcex.gce.ConditionalEntropy.phase_bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of phase bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="gcex.gce.ConditionalEntropy.mag_bins">
<code class="sig-name descname">mag_bins</code><a class="headerlink" href="#gcex.gce.ConditionalEntropy.mag_bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of magnitude bins.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="gcex.gce.ConditionalEntropy.half_dbins">
<code class="sig-name descname">half_dbins</code><a class="headerlink" href="#gcex.gce.ConditionalEntropy.half_dbins" title="Permalink to this definition">¶</a></dt>
<dd><p>Half of the phase bin width.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>double</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="gcex.gce.ConditionalEntropy.ce">
<code class="sig-name descname">ce</code><a class="headerlink" href="#gcex.gce.ConditionalEntropy.ce" title="Permalink to this definition">¶</a></dt>
<dd><p>Cupy array of conditional entropy values. Shape is
(light curves, pdots, frequencyies).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="gcex.gce.ConditionalEntropy.ce_cpu">
<code class="sig-name descname">ce_cpu</code><a class="headerlink" href="#gcex.gce.ConditionalEntropy.ce_cpu" title="Permalink to this definition">¶</a></dt>
<dd><p>Numpy array of conditional entropy values. Shape is
(light curves, pdots, frequencyies).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="gcex.gce.ConditionalEntropy.min_ce">
<code class="sig-name descname">min_ce</code><a class="headerlink" href="#gcex.gce.ConditionalEntropy.min_ce" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum conditional entropy value.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>double</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="gcex.gce.ConditionalEntropy.mean_ce">
<code class="sig-name descname">mean_ce</code><a class="headerlink" href="#gcex.gce.ConditionalEntropy.mean_ce" title="Permalink to this definition">¶</a></dt>
<dd><p>Mean of the conditional entropy values.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>double</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="gcex.gce.ConditionalEntropy.std_ce">
<code class="sig-name descname">std_ce</code><a class="headerlink" href="#gcex.gce.ConditionalEntropy.std_ce" title="Permalink to this definition">¶</a></dt>
<dd><p>Standard deviation of the conditional entropy values.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>double</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="gcex.gce.ConditionalEntropy.significance">
<code class="sig-name descname">significance</code><a class="headerlink" href="#gcex.gce.ConditionalEntropy.significance" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the significance of the observations.
The formula we use for the significance is (mean - min)/std.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>double</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="gcex.gce.ConditionalEntropy.best_params">
<code class="sig-name descname">best_params</code><a class="headerlink" href="#gcex.gce.ConditionalEntropy.best_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Best parameters determined by the minimum
conditional entropy. The tuple will contain lists of the best
parameters, which may be more than one configuration. The tuple will
be length 1 if only one pdot is tested (tuple=(<strong>freqs</strong>,)).
It will be length 2 if multiple pdots are tested (tuple=(<strong>freqs</strong>, <strong>pdots</strong>)).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>tuple of lists</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="gcex.gce.ConditionalEntropy.batched_run_const_nfreq">
<code class="sig-name descname">batched_run_const_nfreq</code><span class="sig-paren">(</span><em class="sig-param">lightcurves</em>, <em class="sig-param">batch_size</em>, <em class="sig-param">freqs</em>, <em class="sig-param">pdots=None</em>, <em class="sig-param">pdot_batch_size=None</em>, <em class="sig-param">return_type='all'</em>, <em class="sig-param">show_progress=True</em><span class="sig-paren">)</span><a class="headerlink" href="#gcex.gce.ConditionalEntropy.batched_run_const_nfreq" title="Permalink to this definition">¶</a></dt>
<dd><p>Run gce on lights curves.</p>
<p>This method actually performs the gce calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lightcurves</strong> (<em>list of numpy ndarrays</em>) – Light curves to be analyzed
given as a list of numpy arrays containing the light curve
information. The light curve arrays have shape
(2, light curve length), where 2 is the time and magnitdue.</p></li>
<li><p><strong>batch_size</strong> (<em>int</em>) – Number of light curves to run through gce for each
computation. Usually, the larger the number, the faster the
algorithm will perform, but with diminishing returns. However,
there is an upper limit due to memory on the GPU.</p></li>
<li><p><strong>freqs</strong> (<em>1D array</em>) – Array with the frequencies to be tested.</p></li>
<li><p><strong>pdots</strong> (<em>1D array</em><em>, </em><em>optional</em>) – Array with pdots to be tested. Default
is <cite>None</cite> indicating a test with 0.0 for the pdot.</p></li>
<li><p><strong>pdot_batch_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of pdots to run for each computation.
Choice here affects the memory usage and the GPU and splits up
the calculation as needed to stay within memory limits. When
len(pdots) &gt; pdot_batch_size, the calculations are run
separately and then combined, including statistics of the
conditional entropy values. Defaults to <cite>None</cite>, which means gce
will use the length of the pdot array as the <cite>pdot_batch_size</cite>.</p></li>
<li><p><strong>return_type</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>User chosen return type.</p>
<dl>
<dt>Options:</dt><dd><dl class="simple">
<dt><cite>all</cite>: Returned conditional entropy values for every grid</dt><dd><p>point.</p>
</dd>
</dl>
<p><cite>best</cite>: Return best conditional entropy value.
<cite>best_params</cite>: Return best frequency and pdot values.</p>
</dd>
</dl>
</p></li>
<li><p><strong>show_progress</strong> (<em>bool</em><em>, </em><em>optional</em>) – Shows progress of batch calculations
using tqdm. Default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>Return all conditional entropy values, the best conditional</dt><dd><p>entropy values, or the best parameters for each light curve.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array or lists of arrays</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>TypeError</strong> – <cite>return_type</cite> is set to a value that is not in the
    options list.</p>
</dd>
</dl>
<dl class="simple">
<dt>TODOs:</dt><dd><p>Different Returns</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">gce</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Michael L. Katz.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>